<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Package Dplyr</title>
    <meta charset="utf-8" />
    <meta name="author" content="Cynthia Bello" />
    <script src="dplyr_pres_files/header-attrs/header-attrs.js"></script>
    <script src="dplyr_pres_files/kePrint/kePrint.js"></script>
    <link href="dplyr_pres_files/lightable/lightable.css" rel="stylesheet" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Package Dplyr
## Cours FAS1002
### Cynthia Bello

---





# Introduction

.pull-left[
&lt;img src="images/dplyr_logo.png" alt="Dplyr_logo" width="300"/&gt;
]

.pull-right[`Dplyr` est un package de l'univers Tidyverse qui a pour but de faciliter la manipulation de donn√©es. &lt;br&gt;&lt;br&gt; `Dplyr` est fortement inspir√© du package `plyr`, mais vient r√©gler des probl√®mes de lenteur des programmes, en permettant de travailler avec des donn√©es contenues dans des bases de donn√©es externes.
]

---
class: center

# Importation des donn√©es 

--
Pour d√©montrer les fonctions de Dplyr, nous allons utilis√© les donn√©es brutes 
de [palmerpenguins](https://allisonhorst.github.io/palmerpenguins/reference/penguins_raw.html#format)

.pull-left[

```r
library(palmerpenguins)
data_penguin = (penguins_raw)
data_penguin_tidy = (penguins)
```
&lt;img src="images/palmerpenguins.png" alt="PalmerPenguins" width="250"/&gt;
]
--
.pull-right[
&lt;img src="images/apercu_tab.png" alt="Apercu_donnees" width=""/&gt;
]

---
class: inverse center middle

#  üêß Les Fonctions de Dplyr üêß

---
class: center, middle

### Manipuler 
--

### Sommaire 
--

### Regrouper 
--

### Fonctions vectorielles 
--

### Joindre des tableaux 

---
## Avant de commencer...
.pull-left[
Il y a certaines valeurs **N/A** parmi les variables num√©riques: 
- `Culmen Length (mm)`
- `Culmen Depth (mm)`
- `Flipper Length (mm)`
- `Body Mass (g)` 

... qu'on aimerait "√©liminer" pour faire certains calculs.

]
.pull-right[
&lt;img src="images/culmen.jpg" alt="Culmen" width="300"/&gt;
]

Nous voulons quand m√™me garder une version des donn√©es brutes, alors nous allons cr√©er un autre *dataframe* pour nos calculs (moyenne par exemple) de la section **Sommaire**:  

&lt;center&gt;`data_calcs`

---
# Manipuler
### filter()  
--



```r
 data_calcs &lt;- data_penguin %&gt;%
     filter(across(c(10:13), ~ !is.na(.x)))
```
&gt; *10:13 = les positions des colonnes : `Culmen Length (mm)`, `Culmen Depth (mm)`, `Flipper Length (mm)` et `Body Mass (g)`.*  

--

&lt;center&gt;On v√©rifie si les rang√©es contenant des **NA** dans les colonnes choisies ci-haut, ont bel et bien √©t√© filtr√©es. 
.pull-left[

```r
data_penguin %&gt;% count()
```

```
## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1   344
```
] 
.pull-right[

```r
data_calcs %&gt;% count()
```

```
## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1   342
```
]  

Ceci va nous √©viter de sp√©cifier **`!is.na`** ou **`na.rm = TRUE`** √† chaque fois.

---
# Manipuler

&lt;u&gt;**Objectif**&lt;/u&gt; : "Nettoyer" nos donn√©es brutes pour arriver aux donn√©es *tidy* disponibles sur le site de [palmerpenguins](https://allisonhorst.github.io/palmerpenguins/reference/penguins_raw.html#format)



---
# Sommaire
#### summarise():
&gt; summarise(.data, ..., .groups = NULL )


```r
data_calcs %&gt;% summarise(mean_mass = mean(`Body Mass (g)`)) 
```

```
## # A tibble: 1 x 1
##   mean_mass
##       &lt;dbl&gt;
## 1     4202.
```

```r
data_calcs %&gt;% summarise(med_flipper = median(`Flipper Length (mm)`)) 
```

```
## # A tibble: 1 x 1
##   med_flipper
##         &lt;dbl&gt;
## 1         197
```
--
&lt;u&gt;Autres fonctions qui peuvent √™tre utilis√©es avec `summarise()`:&lt;/u&gt;  
`sd(), IQR(), mad(),min(), max(), quantile(),first(), last(), nth(),n(), n_distinct(),any(), all()`

---
# Sommaire

.pull-left[
&lt;u&gt;`summarise()`&lt;/u&gt;: 


```r
data_calcs %&gt;% summarise(mean_mass = mean(`Body Mass (g)`))  
```

```
## # A tibble: 1 x 1
##   mean_mass
##       &lt;dbl&gt;
## 1     4202.
```

```r
data_calcs %&gt;% summarise(med_flipper = median(`Flipper Length (mm)`)) 
```

```
## # A tibble: 1 x 1
##   med_flipper
##         &lt;dbl&gt;
## 1         197
```
]
.pull-right[
&lt;u&gt;Base R&lt;/u&gt; : 

```r
mean(data_calcs$`Body Mass (g)`)  
```

```
## [1] 4201.754
```

```r
median(data_calcs$`Flipper Length (mm)`) 
```

```
## [1] 197
```
]
---
# Sommaire

.pull-left[
&lt;u&gt;`dplyr::summarise()`&lt;/u&gt;: 


```r
data_calcs %&gt;% summarise(
  mean_mass = mean(`Body Mass (g)`), 
  med_flipper = median(`Flipper Length (mm)`), 
  max_culmen = max(`Culmen Length (mm)`))  
```

```
## # A tibble: 1 x 3
##   mean_mass med_flipper max_culmen
##       &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt;
## 1     4202.         197       59.6
```
]
.pull-right[
&lt;u&gt;Base R&lt;/u&gt; : 

```r
mean(data_calcs$`Body Mass (g)`)  
```

```
## [1] 4201.754
```

```r
median(data_calcs$`Flipper Length (mm)`) 
```

```
## [1] 197
```

```r
max(data_calcs$`Culmen Length (mm)`) 
```

```
## [1] 59.6
```
]
---
# Sommaire
#### autres variantes de summarise():
&gt; `summarise_if()`


```r
dt &lt;- data_calcs %&gt;% group_by(Species) %&gt;% summarise_if(is.numeric, list(maximum = max))
```
&lt;table class="table" style="font-size: 12px; width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Species &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Sample Number_maximum &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Culmen Length (mm)_maximum &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Culmen Depth (mm)_maximum &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Flipper Length (mm)_maximum &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Body Mass (g)_maximum &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Delta 15 N (o/oo)_maximum &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Delta 13 C (o/oo)_maximum &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Adelie Penguin (Pygoscelis adeliae) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 152 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 46.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 21.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 210 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4775 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Chinstrap penguin (Pygoscelis antarctica) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 68 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 58.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 212 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4800 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -23.78767 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Gentoo penguin (Pygoscelis papua) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 124 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 59.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 231 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6300 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; NA &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

Il y a aussi `summarise_at` et `summarise_all`

---

# Regrouper

### group_by() &amp; ungroup()
&gt; `group_by(.data, ..., .add = FALSE, .drop = TRUE)`   
&gt; `ungroup(x, ...)`

--


```r
dt &lt;- data_penguin %&gt;% group_by(Species) %&gt;% summarize(Totals = n()) 
```
&lt;table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Species &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Totals &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Adelie Penguin (Pygoscelis adeliae) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 152 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Chinstrap penguin (Pygoscelis antarctica) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 68 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Gentoo penguin (Pygoscelis papua) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 124 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---
  

```r
dt &lt;- data_calcs %&gt;% group_by(Sex) %&gt;% summarize(mean_mass = mean(`Body Mass (g)`)) 
```
&lt;table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Sex &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; mean_mass &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; FEMALE &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3862 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; MALE &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4546 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4006 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

--


```r
dt &lt;- data_calcs %&gt;% group_by(Region, Island) %&gt;% summarize(mean_mass = mean(`Body Mass (g)`)) 
```

&lt;table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Region &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Island &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; mean_mass &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Anvers &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Biscoe &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4716 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Anvers &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Dream &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3713 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Anvers &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Torgersen &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3706 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---
class: center, middle


```r
dt &lt;- data_calcs %&gt;% group_by(Species,Region, Island, Sex) %&gt;% summarize(mean_mass = mean(`Body Mass (g)`))
```

--

&lt;table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Species &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Region &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Island &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Sex &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; mean_mass &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Adelie Penguin (Pygoscelis adeliae) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Anvers &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Biscoe &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FEMALE &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3369 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Adelie Penguin (Pygoscelis adeliae) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Anvers &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Biscoe &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; MALE &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4050 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Adelie Penguin (Pygoscelis adeliae) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Anvers &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Dream &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FEMALE &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3344 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Adelie Penguin (Pygoscelis adeliae) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Anvers &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Dream &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; MALE &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4046 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Adelie Penguin (Pygoscelis adeliae) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Anvers &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Dream &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2975 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Adelie Penguin (Pygoscelis adeliae) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Anvers &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Torgersen &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FEMALE &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3396 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Adelie Penguin (Pygoscelis adeliae) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Anvers &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Torgersen &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; MALE &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4035 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Adelie Penguin (Pygoscelis adeliae) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Anvers &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Torgersen &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3681 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Chinstrap penguin (Pygoscelis antarctica) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Anvers &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Dream &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FEMALE &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3527 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Chinstrap penguin (Pygoscelis antarctica) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Anvers &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Dream &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; MALE &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3939 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Gentoo penguin (Pygoscelis papua) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Anvers &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Biscoe &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; FEMALE &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4680 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Gentoo penguin (Pygoscelis papua) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Anvers &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Biscoe &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; MALE &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5485 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Gentoo penguin (Pygoscelis papua) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Anvers &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Biscoe &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4588 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---
# Regrouper
### rowwise()
&gt; `rowwise(.data, ...)`

---

# Fonctions vectorielles

---


# Joindre des tableaux


---
class: center, middle

# MERCI :) 

[**xaringan**](https://github.com/yihui/xaringan)&lt;br&gt;

---
## Ressources:

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "solarized-dark",
"highlightLines": true,
"ratio": "16:9",
"countIncrementalSlides": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
